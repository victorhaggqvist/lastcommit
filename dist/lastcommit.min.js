/*! lastcommit - v0.1.0 - 2014-06-30
 * https://github.com/victorhaggqvist/lastcommit
 * Copyright (c) 2014 Victor HÃ¤ggqvist (http://victorhaggqvits.com); Licensed MIT */
!function(){function a(a,c){if(!a)return void console.error("Did not find username on lastcommit widget");var d=new XMLHttpRequest;d.open("GET","https://api.github.com/users/"+a+"/repos",!0),d.onreadystatechange=function(){if(4===d.readyState&&200===d.status){var e=JSON.parse(d.responseText);e.sort(function(a,b){return Date.parse(b.pushed_at)-Date.parse(a.pushed_at)}),b(a,e[0],c)}},d.send()}function b(a,b,c){var d=new XMLHttpRequest;d.open("GET","https://api.github.com/repos/"+a+"/"+b.name+"/commits",!0),d.onreadystatechange=function(){if(4===d.readyState&&200===d.status){var e=JSON.parse(d.responseText),f=e.filter(function(b){return b.committer.login===a?!0:void 0});c(b,f[0])}},d.send()}function c(a,b){var c="https://github.com/"+b.user+"/"+b.repo.name+"/commit/"+b.commit.sha,d='<a href="'+c+'">'+b.commit.commit.message+"</a>";a.innerHTML=d}var d=document.getElementsByClassName("lastcommit-widget")[0],e=d.getAttribute("data-user");a(e,function(a,b){c(d,{user:e,repo:a,commit:b})})}();